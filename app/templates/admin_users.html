{% extends 'base.html' %}
{% block content %}
  <h2 class="text-xl font-semibold mb-4">Usuários</h2>
  <div class="overflow-x-auto bg-white border rounded">
    <table class="min-w-full">
      <thead>
        <tr class="text-left">
          <th class="px-3 py-2">ID</th>
          <th class="px-3 py-2">Email</th>
          <th class="px-3 py-2">Papel</th>
          <th class="px-3 py-2">Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for u in users %}
        <tr class="border-t">
          <td class="px-3 py-2">{{ u.id }}</td>
          <td class="px-3 py-2">{{ u.email }}</td>
          <td class="px-3 py-2">{{ u.role }}</td>
          <td class="px-3 py-2">
            <form method="post" class="flex items-center gap-2">
              <input type="hidden" name="user_id" value="{{ u.id }}">
              <select name="role" class="border rounded px-2 py-1">
                <option value="administrador" {% if u.role=='administrador' %}selected{% endif %}>Administrador</option>
                <option value="professor" {% if u.role=='professor' %}selected{% endif %}>Professor</option>
                <option value="aluno" {% if u.role=='aluno' %}selected{% endif %}>Aluno</option>
              </select>
              <button class="px-3 py-1 bg-blue-600 text-white rounded">Salvar</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
